<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
    <title>
        Etch-a-Sketch
    </title>
    <style>
      #main {
        display: grid;
        
        
        background-color: aqua;
        height: 400px;
        width: 400px;
        
      }
    </style>
  
</head>

<body>
  <button>Shake</button>
  <div id = "main"></div>
  
  <script>
    document.body.onload = createBox;
    let k = 16;
    document.getElementById("main").style.gridTemplateColumns = `repeat(${k},1fr)`;
    document.getElementById("main").style.gridTemplateRows = `repeat(${k},1fr)`;
    function createBox () {
      for (i = 0; i < (Math.pow(k,2)); i ++) {
        const div = [];
        div[i] = document.createElement(`div${i}`);
        div[i].style.width = "25px";
        div[i].style.height = "25px";
        div[i].style.gridRow;
        div[i].className = `box`;
        div[i].textContent = ``;
        div[i].style.backgroundColor = "transparent";
        div[i].id = `div${i}`;

        document.getElementById("main").appendChild(div[i]);
      }
    }
  
    const divs = document.querySelectorAll(`div:not(main)`);
    divs.forEach(selectorFunc);
    function selectorFunc (div) {
      div.addEventListener(`mouseover`, mouseOver);
      div.addEventListener(`mouseout`, mouseOut);
    }

    


    function mouseOver () {
      let mouseOver = event.target.style.backgroundColor = "#ff00ff";
    }
 
    function mouseOut () {
      let mouseOut = event.target.style.backgroundColor = "#ff99ff";
    }

    document.querySelector(`button`).addEventListener(`click`, removeBox);

    function removeBox () {
      for (i = 0; i < (Math.pow(k,2)); i ++) {
        const div = [];
        div[i] = document.getElementById(`div${i}`);
        document.getElementById(`main`).removeChild(div[i]);
      }
      k = prompt(`How many squares per side do you want to make new grid?`);
      if (k != (null || 100 ) ){
        createBox();
      }
    }


  </script>
</body>

</html>