<!DOCTYPE html>
<html>
<head>
    <link rel = "stylesheet" href = "RPS.CSS">  
    <title>Rock Paper Scissors Test page</title>
    <meta charset="UTF-8"/>
</head>
<body>
  
    <div id = "box">
        <h3> Rock, Paper, or Scissors?</h3>
        <button id = "rock">Rock</button>
        <button id = "paper">Paper</button>
        <button id = "scissors">Scissors</button>
    </div>

<script>


const buttons = document.querySelectorAll(`button`);



let computerSelection;
let playerSelection;
let score1;
let score2;
let score3;
let score4;
let score5;



let i = 1;


function selectEachButton(button) {
    function playerEventListener () {
        console.log(`Round ` + i );
        i++;
        playerSelection = button.id;
        console.log(`You picked: ` + playerSelection);
        return playerSelection;
    }
    return button.addEventListener(`click`, playerEventListener);
}
buttons.forEach(selectEachButton);




function computerPlay () {  
    let rock = `rock`;        
    let paper = `paper`;     
    let scissors = `scissors`;
    let RockPaperScissors = Array(rock,paper,scissors);
    let computerOption = RockPaperScissors[Math.floor(Math.random() * RockPaperScissors.length)];
    console.log(`Computer picks: ` + computerOption);
    computerSelection = computerOption;
    return computerSelection;
}
function computerEventListener (button) {
    return button.addEventListener(`click` , computerPlay)
}
buttons.forEach(computerEventListener);








function playRound1() {  
    let win = 1;
    let lose = -1;
    let tie = 0;
    if (computerSelection == `paper` && playerSelection == `rock`) {
        console.log(`-1`);
        return array.push(lose);
    }else if (computerSelection == `paper` && playerSelection ==`scissors`) {
        console.log(`1`);
        return array.push(win);
    }else if (computerSelection == `scissors` && playerSelection == `paper`) {
        console.log(`-1`);
        return array.push(lose);
    }else if (computerSelection == `scissors` && playerSelection == `rock`) {
        console.log(`1`);
        return array.push(win);
    }else if (computerSelection == `rock` && playerSelection == `scissors`) {
        console.log(`-1`);
        return array.push(lose);
    }else if (computerSelection == `rock` && playerSelection == `paper`) {
        console.log(`1`);
        return array.push(win);
    }else if ( (computerSelection == playerSelection) && (playerSelection!= undefined) ) {
        console.log(`0`);
        return array.push(tie);
    }
}   

function myfunction (button) {
    return button.addEventListener( `click`, playRound1, );
}
buttons.forEach(myfunction);
    











let array = [];


function roundFunction (button) {
    function arrayFunction () {
        
        
    }
    return button.addEventListener(`click`, arrayFunction);
}
buttons.forEach(roundFunction);



function game () {
    const bestOf3 = array[0] + array[1] + array[2];
    if (bestOf3 == 3) {
        alert(`You won game`);
        return;
    }else if (bestOf3 == -3) {
        alert(`You lost game`);
        return;
    }

    const bestOf4 = bestOf3 + array[3];
    if (bestOf4 == (3) ){
        alert(`You won game`);
        return;
    }else if (bestOf4 == (-3) ) {
        alert(`You lost game`);
        return;
    }else if (bestOf4 == 2) {
        alert(`You won game`);
        return;
    }else if ( bestOf4 == -2) {
        alert(`You lost game`);
        return;
    }

    const bestOf5 = bestOf4 + array[4];
    if (Math.sign(bestOf5) == 1 ) {
        alert(`You won game`);
        return;
    }else if (Math.sign(bestOf5) == -1) {
        alert(`You lost game`);
        return;
    }else if(bestOf5 == 0) {
        alert(`Tie game`);
        return;
    }

}

function blah (button) {
    return button.addEventListener(`click`, game);
}
buttons.forEach(blah);



</script>
</body>
</html>